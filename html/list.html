<!DOCTYPE html>
<html lang="zh">

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" type="text/css" href="../css/reset.css" />
    <link rel="stylesheet" type="text/css" href="../css/list.css"/>
    <title>商品列表</title>
  </head>

  <body>
    <script src="../js/myajax.js" type="text/javascript" charset="utf-8"></script>
    <div class="nav-list">
      <ul id="cat" class="cat"></ul>
      <script src="../js/list.js"></script>
    </div>
    <div class="goods-list">
      <ul id="hot-goods"></ul>
      <script type="text/javascript">
        var oGoods = document.querySelector('#hot-goods');
        var cat_id = getQueryString("cat_id");
        myajax.get('http://h6.duchengjiu.top/shop/api_goods.php', {
          cat_id: cat_id,
          pagesize: '100'
        }, function(error, responseText) {
          var json = JSON.parse(responseText); //返回的整个json对象
          var data = json.data; //json对象当中的data是一个数组
          for(var i = 0; i < data.length; i++) {
            var obj = data[i]; //数组里面的每一项是一个商品分类的对象
            oGoods.innerHTML += `<div id="hot"><li><a href="goods.html?goods_id=${obj.goods_id}"><img src="${obj.goods_thumb}"/> <p>${obj.goods_name} </p><span>¥ ${obj.price}</span></a></li></div>`;
          }
        });
      </script>
    </div>
    <!--回到顶部-->
    <div id="backto">
      <a href="javascript:;" class="backtotop" id="backtotop"><img src="../images/top.png"/></a>
    </div>
    <script src="../js/backtotop.js" type="text/javascript" charset="utf-8"></script>
    <script>
      var backtotop = new BackToTop('#backtotop');
    </script>
  </body>

</html>